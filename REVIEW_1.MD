# –†–µ–≤—å—é —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ—è–º–∏ —Ç–∞–π–ª–º–∞–ø–∞

## –û–±–∑–æ—Ä

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Ç—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ —Å–ª–æ—è–º–∏ —Ç–∞–π–ª–º–∞–ø–∞:

- **–°–¢–†–ê–¢–ï–ì–ò–Ø 0**: Spatial Culling + Target State
- **–°–¢–†–ê–¢–ï–ì–ò–Ø 1**: –í–µ–∫—Ç–æ—Ä –¥–≤–∏–∂–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏
- **–°–¢–†–ê–¢–ï–ì–ò–Ø 2**: Velocity-Based Predictive Layer Management

–ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–≤–æ–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é —Ç—Ä—ë—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:

1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–∞–º–µ—Ä—ã –±–µ–∑ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Ä–µ–Ω–¥–µ—Ä
2. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ—ë–≤
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã

---

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

### –°–¢–†–ê–¢–ï–ì–ò–Ø 0: Spatial Culling + Target State

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

**1. –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞ (Safe Zone)**

- –ö–æ–Ω—Ü–µ–ø—Ü–∏—è: –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤ —Ü–µ–Ω—Ç—Ä–µ —Å–ª–æ—è (~40%)
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `safeRegion.contains(camera.x, camera.y)` –≤ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ
- Fast path: –≤—ã—Ö–æ–¥ –∏–∑ `update()` –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ –≤ –∑–æ–Ω–µ

**2. –ü–∞—Ç—Ç–µ—Ä–Ω Target State**

- `targetLayerPos` - –∂–µ–ª–∞–µ–º–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–ª–æ—è
- `currentLayerPos` - —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–ª–æ—è
- Async worker –ø—Ä–∏–≤–æ–¥–∏—Ç current –∫ target

**3. –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ–∫–æ—è**

- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ `camera.pos !== lastCameraPos`
- –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ idle timer
- –ü–æ—Ä–æ–≥ 500–º—Å –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

#### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Fast Path**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ `rect.contains()` - O(1), ~0.001–º—Å
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ –≤ Safe Zone
   - –û—Ç–ª–∏—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è 80% —Å–ª—É—á–∞–µ–≤

2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏**
   - –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å
   - –í–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º–∞ (–º–æ–∂–Ω–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –∑–æ–Ω—ã)
   - –ú–∞–ª–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

3. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**
   - –ê–Ω–∞–ª–∏–∑ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–æ–Ω—ã) –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (worker)
   - Target State –ø—Ä–æ–≥–ª–∞—Ç—ã–≤–∞–µ—Ç —Ö–∞–æ—Ç–∏—á–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è
   - –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ —Å–ª–æ—è

4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∞–π–º–µ—Ä–æ–≤**
   - –í—Å—è –ª–æ–≥–∏–∫–∞ –≤ `update()` - –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å
   - –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π —Ç–∞–π–º–µ—Ä–æ–≤
   - –°–≤—è–∑—å —Å –∏–≥—Ä–æ–≤—ã–º —Ü–∏–∫–ª–æ–º

#### ‚ö†Ô∏è –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è Safe Zone**
   - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä (40%) –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∫–∞–º–µ—Ä—ã
   - –ë—ã—Å—Ç—Ä–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ—è
   - –ù–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞

2. **–ü—Ä–∏–º–∏—Ç–∏–≤–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –ø–æ–∫–æ—è**
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ (–∏–Ω–µ—Ä—Ü–∏—é)
   - –ú–∏–∫—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –º–æ–≥—É—Ç —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å idle timer
   - –ù–µ—Ç —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è**
   - –†–µ–∞–≥–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é
   - –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è
   - –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∏ "—Å–ª–∏—à–∫–æ–º –ø–æ–∑–¥–Ω–æ"

4. **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –º–µ—Ä—Ü–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü**
   - –ü—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –≤–æ–∑–º–æ–∂–µ–Ω –≤—ã—Ö–æ–¥ –∑–∞ Safe Zone
   - –¢—Ä–µ–±—É–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –∑–æ–Ω—ã vs —Å–∫–æ—Ä–æ—Å—Ç–∏ –∫–∞–º–µ—Ä—ã
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –∫–∞–∫ —Ä–∏—Å–∫, –Ω–æ —Ä–µ—à–µ–Ω–∏—è –Ω–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ

5. **–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫**
   - –§–ª–∞–≥ `isUpdating` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å
   - –ù–æ –Ω–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –∏–ª–∏ –æ—á–µ—Ä–µ–¥–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ú–æ–∂–µ—Ç —Ç–µ—Ä—è—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏—è –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

#### üîß –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è Safe Zone:**

   ```typescript
   // –†–∞—Å—à–∏—Ä—è—Ç—å Safe Zone –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
   const velocityFactor = Math.sqrt(velocity.x¬≤ + velocity.y¬≤);
   const dynamicSafeZone = baseSafeZone.expand(
     velocity.x * velocityFactor * lookaheadTime,
     velocity.y * velocityFactor * lookaheadTime
   );
   ```

2. **–°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –ø–æ–∫–æ—è:**

   ```typescript
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –≤–º–µ—Å—Ç–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π
   const speed = calculateSmoothedSpeed();
   const isIdle = speed < STOP_THRESHOLD;
   ```

3. **–ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–æ–Ω—ã:**
   - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ Safe Zone —á–µ—Ä–µ–∑ N –º—Å
   - –ù–∞—á–∏–Ω–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ—è –∑–∞—Ä–∞–Ω–µ–µ

---

### –°–¢–†–ê–¢–ï–ì–ò–Ø 1: –í–µ–∫—Ç–æ—Ä –¥–≤–∏–∂–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

**1. Camera Motion Tracker**

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑ –≤ 100–º—Å (–Ω–µ –≤ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ)
- –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ: `v_new = v_old * 0.7 + v_instant * 0.3`
- –ü–æ—Ä–æ–≥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏: 5 –ø–∏–∫—Å–µ–ª–µ–π –∑–∞ 100–º—Å

**2. Mutex + Intent Queue (—Ä–∞–∑–º–µ—Ä 1)**

- –§–ª–∞–≥ `isCreating` –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- `pendingIntent` - –æ–¥–Ω–æ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ
- –ù–æ–≤–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä–æ–µ

**3. –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã**

- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è ‚Üí –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ (50%)
- –î—Ä—É–≥–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ (33%)

**4. –û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ**

- setTimeout 400–º—Å –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –û—Ç–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è

#### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫**
   - 100–º—Å - –∑–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞ –º–µ–∂–¥—É –Ω–∞–≥—Ä—É–∑–∫–æ–π –∏ —Ä–µ–∞–∫—Ü–∏–µ–π
   - –ù–µ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä–æ –¥–ª—è UX (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è 100-300–º—Å)

2. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã**
   - –ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–ª–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
   - –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
   - –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö

3. **–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   - –°–∞–º—ã–π –ø–æ–¥—Ä–æ–±–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç (800+ —Å—Ç—Ä–æ–∫)
   - –ì–æ—Ç–æ–≤—ã–π –ø–ª–∞–Ω –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å —á–µ–∫–ª–∏—Å—Ç–æ–º
   - –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ

4. **–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç race conditions**
   - Mutex –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
   - Finally block –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–Ω—è—Ç–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
   - –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏

5. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏**
   - –í—Å–µ –º–µ—Ç–æ–¥—ã —É–∂–µ async/await
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ Web Workers

#### ‚ö†Ô∏è –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **–û—á–µ—Ä–µ–¥—å —Ä–∞–∑–º–µ—Ä–æ–º 1**
   - –ù–æ–≤–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä–æ–µ
   - –ú–æ–∂–µ—Ç —Ç–µ—Ä—è—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –•–æ—Ç—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –∫–∞–∫ "—Ñ–∏—á–∞", –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–æ–π

2. **–ó–∞–¥–µ—Ä–∂–∫–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ 100–º—Å**
   - –ü—Ä–∏ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –º–æ–∂–µ—Ç –∑–∞–ø–∞–∑–¥—ã–≤–∞—Ç—å
   - –ö–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –Ω–∞–≥—Ä—É–∑–∫–æ–π –∏ —Ä–µ–∞–∫—Ü–∏–µ–π
   - –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ setTimeout**
   - –ù–µ —Å–≤—è–∑–∞–Ω —Å –∏–≥—Ä–æ–≤—ã–º —Ü–∏–∫–ª–æ–º Phaser
   - –ú–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å –≤ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–π –º–æ–º–µ–Ω—Ç
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Phaser.Time.TimerEvent (—Å–∞–º–∏ –∞–≤—Ç–æ—Ä—ã –ø—Ä–∏–∑–Ω–∞–ª–∏)

4. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø–æ—Ä–æ–≥–∏**
   - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 1.5 –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∏–∞–≥–æ–Ω–∞–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ—á–Ω—ã–º
   - –ù–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–µ–∫—Ç–æ—Ä–∞

5. **–ù–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π**
   - –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω—ã
   - 'shift' –∏ 'center' –Ω–µ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏
   - –ú–æ–∂–µ—Ç —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ª–æ–π –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è

#### üîß –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

1. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å:**

   ```typescript
   // –û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –Ω–∞–º–µ—Ä–µ–Ω–∏—è
   private intentQueue: Array<{type, direction, priority, timestamp}> = [];
   ```

2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏:**

   ```typescript
   // –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –∫ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∫–∞–º–µ—Ä—ã
   const checkInterval = speed > threshold ? 50 : 100;
   ```

3. **Phaser Timer –≤–º–µ—Å—Ç–æ setTimeout:**

   ```typescript
   this.centerLayerTimer = this.scene.time.delayedCall(400, callback);
   ```

4. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

   ```typescript
   const magnitude = Math.sqrt(velocityX¬≤ + velocityY¬≤);
   const normalizedDir = { x: velocityX / magnitude, y: velocityY / magnitude };
   ```

---

### –°–¢–†–ê–¢–ï–ì–ò–Ø 2: Velocity-Based Predictive Layer Management

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

**1. Velocity Tracking –≤ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ**

- EMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ: –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 0.7
- –ü–æ—Ä–æ–≥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏: 0.5 px/ms
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ px/ms –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏

**2. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

- –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —á–µ—Ä–µ–∑ 300–º—Å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –≤—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
- –í–æ–∑–≤—Ä–∞—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–¥–≤–∏–≥–∞ {x, y}

**3. –°–∏—Å—Ç–µ–º–∞ –æ—á–µ—Ä–µ–¥–µ–π —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏**

- `'movement'` - –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- `'center'` - –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–º–µ–Ω—ã –∏ –∑–∞–º–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–π

**4. Debounce —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è 800–º—Å**

- –û—Ç–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

#### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏**
   - –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è –∏–¥–µ—è: –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —á–µ—Ä–µ–∑ 300–º—Å
   - –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ—ë–≤
   - –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–ª–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é

2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–π**
   - –î–≤–∏–∂–µ–Ω–∏–µ –≤–∞–∂–Ω–µ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π UX
   - –ß—ë—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –æ—Ç–º–µ–Ω—ã –∏ –∑–∞–º–µ–Ω—ã
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –¥–≤–∏–∂–µ–Ω–∏—è/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏

3. **–¢–æ—á–Ω–æ—Å—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏–π**
   - px/ms –≤–º–µ—Å—Ç–æ px/100ms - –±–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
   - –£—á—ë—Ç deltaTime –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º FPS
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `performance.now()` –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏

4. **–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é**
   - 6 –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π —Å –∫–æ–¥–æ–º
   - –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases
   - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏

5. **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**
   - 6 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å –æ–∂–∏–¥–∞–µ–º—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
   - –ü–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–ª—É—á–∞–∏
   - –ì–æ—Ç–æ–≤–∞—è –±–∞–∑–∞ –¥–ª—è QA

6. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è**
   - 5 —ç—Ç–∞–ø–æ–≤ —Å —á—ë—Ç–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏
   - –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
   - –û—Ç –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### ‚ö†Ô∏è –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **–í—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ**
   - `updateCameraVelocity()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º `update()`
   - –•–æ—Ç—è –Ω–∞–≥—Ä—É–∑–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞, –Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–∞
   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å —Ü–µ–ª—å—é "–Ω–µ –Ω–∞–≥—Ä—É–∂–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä"

2. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç FPS**
   - –°–∫–æ—Ä–æ—Å—Ç—å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ deltaTime
   - –ü—Ä–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º FPS —Ç–æ—á–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞–¥–∞–µ—Ç
   - –ú–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–∏ lag spikes

3. **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤**
   - –ú–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
   - –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã
   - –£—Å–ª–æ–∂–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É

4. **–ú–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
   - 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
   - –í–∑–∞–∏–º–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –°–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

5. **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —á–µ—Ä–µ–∑ 300–º—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ç–æ—á–Ω—ã–º**
   - –†–µ–∑–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
   - –õ–∏–Ω–µ–π–Ω–∞—è —ç–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
   - –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ —Å–ª–æ–∏

6. **–†–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ –Ω–µ —É–∫–∞–∑–∞–Ω —è–≤–Ω–æ**
   - –ì–æ–≤–æ—Ä–∏—Ç—Å—è –æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞—Ö, –Ω–æ –Ω–µ –æ —Ä–∞–∑–º–µ—Ä–µ –æ—á–µ—Ä–µ–¥–∏
   - –ú–æ–∂–µ—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–∞–º—è—Ç—å—é

#### üîß –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

1. **Throttling –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Å–∫–æ—Ä–æ—Å—Ç–∏:**

   ```typescript
   // –í—ã—á–∏—Å–ª—è—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑ –≤ N –∫–∞–¥—Ä–æ–≤, –∞ –Ω–µ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
   if (frameCount % 3 === 0) {
     updateCameraVelocity();
   }
   ```

2. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è:**

   ```typescript
   // –í—Ä–µ–º—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏
   const predictionTime = baseTime * (1 + speed / maxSpeed);
   ```

3. **–ö–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è –∏–ª–∏ –∫—É–±–∏—á–µ—Å–∫–∞—è —ç–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è:**

   ```typescript
   // –£—á–∏—Ç—ã–≤–∞—Ç—å —É—Å–∫–æ—Ä–µ–Ω–∏–µ, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–∫–æ—Ä–æ—Å—Ç—å
   const acceleration = (velocity - lastVelocity) / deltaTime;
   const predictedPos = pos + velocity * t + 0.5 * acceleration * t¬≤;
   ```

4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ—á–µ—Ä–µ–¥–∏:**

   ```typescript
   private operationQueue: Array<Operation> = [];
   private readonly MAX_QUEUE_SIZE = 3;
   ```

5. **FPS-–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è:**

   ```typescript
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π timestep
   const FIXED_TIMESTEP = 16.67; // 60 FPS
   const normalizedDelta = delta * (FIXED_TIMESTEP / delta);
   ```

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π                        | –°—Ç—Ä–∞—Ç–µ–≥–∏—è 0                | –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1                   | –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2                 |
| ------------------------------- | -------------------------- | ----------------------------- | --------------------------- |
| **–ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Ä–µ–Ω–¥–µ—Ä**          | –ù–∏–∑–∫–∞—è (fast path)         | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (100–º—Å)           | –°—Ä–µ–¥–Ω—è—è (–∫–∞–∂–¥—ã–π –∫–∞–¥—Ä)       |
| **–¢–æ—á–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ü–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏** | –ù–∏–∑–∫–∞—è (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π) | –°—Ä–µ–¥–Ω—è—è (—Å–≥–ª–∞–∂–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å) | –í—ã—Å–æ–∫–∞—è (EMA + –ø–æ—Ä–æ–≥)       |
| **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è**       | ‚ùå –ù–µ—Ç                     | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ–µ (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)    | ‚úÖ –î–∞ (–ø–æ–∑–∏—Ü–∏—è —á–µ—Ä–µ–∑ 300–º—Å) |
| **–ó–∞—â–∏—Ç–∞ –æ—Ç race conditions**   | ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è (—Ñ–ª–∞–≥)          | ‚úÖ Mutex + –æ—á–µ—Ä–µ–¥—å            | ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã + –æ—á–µ—Ä–µ–¥—å     |
| **–ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Å–∫–æ—Ä–æ—Å—Ç–∏**        | ‚ùå –ù–µ—Ç                     | ‚úÖ –î–∞ (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã)    | ‚úÖ –î–∞ (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ)        |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è** | ‚ùå –ü—Ä–æ–±–ª–µ–º–Ω–∞               | ‚úÖ –•–æ—Ä–æ—à–∞—è                    | ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è                 |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**         | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è                 | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è                    | ‚ùå –°–ª–æ–∂–Ω–∞—è                  |
| **–ö–∞—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**       | ‚ö†Ô∏è –ö—Ä–∞—Ç–∫–∞—è                 | ‚úÖ –ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–∞—è               | ‚úÖ –•–æ—Ä–æ—à–∞—è                  |
| **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ async**          | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è               | ‚úÖ –ü–æ–ª–Ω–∞—è                     | ‚úÖ –ü–æ–ª–Ω–∞—è                   |
| **–°–≤—è–∑—å —Å –∏–≥—Ä–æ–≤—ã–º —Ü–∏–∫–ª–æ–º**      | ‚úÖ –î–∞ (update)             | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è (setTimeout)     | ‚úÖ –î–∞ (update)              |

---

## –†–∞–±–æ—Ç–∞ –Ω–∞–¥ –æ—à–∏–±–∫–∞–º–∏

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤—Å–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞**
   - –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –º–µ—Ç–æ–¥
   - –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å: Fast Path (–°—Ç—Ä.0) + –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ (–°—Ç—Ä.2)

2. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∫ edge cases**
   - –¢–æ–ª—å–∫–æ –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2 —É–ø–æ–º–∏–Ω–∞–µ—Ç NaN/Infinity
   - –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ FPS
   - –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –∫–∞–º–µ—Ä—ã

3. **–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**
   - –í—Å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ç—Ä–µ–±—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
   - –ù–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫

4. **–ú–µ—Ç—Ä–∏–∫–∏ –∏ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è**
   - –¢–æ–ª—å–∫–æ –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1 –∏ 2 —É–ø–æ–º–∏–Ω–∞—é—Ç –º–µ—Ç—Ä–∏–∫–∏
   - –ù–µ—Ç —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - –ù–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

#### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 0

**–û—à–∏–±–∫–∞ 1:** –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è Safe Zone

- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
- **–†–µ—à–µ–Ω–∏–µ:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–æ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∫–æ—Ä–æ—Å—Ç–∏

**–û—à–∏–±–∫–∞ 2:** Idle detection —á–µ—Ä–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π

- **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–∏–∫—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç —Ç–∞–π–º–µ—Ä
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≥–ª–∞–∂–µ–Ω–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å

**–û—à–∏–±–∫–∞ 3:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

- **–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω—ã
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (–¥–≤–∏–∂–µ–Ω–∏–µ > —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)

#### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1

**–û—à–∏–±–∫–∞ 1:** –û—á–µ—Ä–µ–¥—å —Ä–∞–∑–º–µ—Ä–æ–º 1

- **–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ—Ä—è–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ:** –†–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ 3-5 —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏

**–û—à–∏–±–∫–∞ 2:** setTimeout –≤–º–µ—Å—Ç–æ Phaser Timer

- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –∏–≥—Ä–æ–≤—ã–º —Ü–∏–∫–ª–æ–º
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `scene.time.delayedCall()`

**–û—à–∏–±–∫–∞ 3:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª 100–º—Å

- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Å–∫–æ—Ä–æ—Å—Ç–∏
- **–†–µ—à–µ–Ω–∏–µ:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª (50-200–º—Å)

**–û—à–∏–±–∫–∞ 4:** –ù–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ:** –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏

#### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2

**–û—à–∏–±–∫–∞ 1:** –í—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ

- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Ä–µ–Ω–¥–µ—Ä
- **–†–µ—à–µ–Ω–∏–µ:** Throttling –∏–ª–∏ –≤—ã–Ω–æ—Å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–∞–π–º–µ—Ä

**–û—à–∏–±–∫–∞ 2:** –õ–∏–Ω–µ–π–Ω–∞—è —ç–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è

- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç–æ—á–Ω–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏
- **–†–µ—à–µ–Ω–∏–µ:** –£—á–∏—Ç—ã–≤–∞—Ç—å —É—Å–∫–æ—Ä–µ–Ω–∏–µ (–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è)

**–û—à–∏–±–∫–∞ 3:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç FPS

- **–ü—Ä–æ–±–ª–µ–º–∞:** –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º FPS
- **–†–µ—à–µ–Ω–∏–µ:** –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É timestep

**–û—à–∏–±–∫–∞ 4:** –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å

- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏
- **–†–µ—à–µ–Ω–∏–µ:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ—á–µ—Ä–µ–¥–∏

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (must-have)

1. **Fast Path –∏–∑ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ 0**
   - –î–µ—à—ë–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ Safe Zone –≤ –Ω–∞—á–∞–ª–µ update()
   - –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –≤—ã—Ö–æ–¥ –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ –≤ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∑–æ–Ω–µ
   - –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –≤ —Ç–∏–ø–∏—á–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö

2. **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –∏–∑ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ 2**
   - –≠–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
   - –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ—ë–≤
   - –£—á—ë—Ç —É—Å–∫–æ—Ä–µ–Ω–∏—è –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏

3. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ 1**
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è Safe Zone
   - –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
   - –≠–∫–æ–Ω–æ–º–∏—è –≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö

4. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏–∑ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ 2**
   - –î–≤–∏–∂–µ–Ω–∏–µ –≤–∞–∂–Ω–µ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
   - –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–º–µ–Ω—ã –∏ –∑–∞–º–µ–Ω—ã

5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ 1**
   - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - –ü–ª–∞–Ω –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (nice-to-have)

1. **–ú–µ—Ç—Ä–∏–∫–∏ –∏ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è**
   - FPS, –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª–æ—ë–≤
   - –ß–∞—Å—Ç–æ—Ç–∞ —Å–º–µ–Ω—ã —Å–ª–æ—ë–≤
   - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π

2. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Safe Zone
   - –í–µ–∫—Ç–æ—Ä —Å–∫–æ—Ä–æ—Å—Ç–∏
   - –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞**
   - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫
   - –ü—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
   - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

4. **Graceful degradation**
   - –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∏–∑–∫–æ–º FPS
   - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   - Fallback –Ω–∞ –ø—Ä–æ—Å—Ç—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é

### –ò—Å–∫–ª—é—á–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. ‚ùå **–í—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ** - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ throttling
2. ‚ùå **setTimeout** - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Phaser Timer
3. ‚ùå **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è Safe Zone** - —Å–¥–µ–ª–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π
4. ‚ùå **–û—á–µ—Ä–µ–¥—å —Ä–∞–∑–º–µ—Ä–æ–º 1** - —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
5. ‚ùå **–õ–∏–Ω–µ–π–Ω–∞—è —ç–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è** - –¥–æ–±–∞–≤–∏—Ç—å —É—á—ë—Ç —É—Å–∫–æ—Ä–µ–Ω–∏—è

---

## –ò—Ç–æ–≥–æ–≤—ã–µ –æ—Ü–µ–Ω–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 0: Spatial Culling + Target State

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: 6.5/10**

- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 9/10 (–æ—Ç–ª–∏—á–Ω—ã–π fast path)
- –¢–æ—á–Ω–æ—Å—Ç—å: 4/10 (—Å–ª–∞–±–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è: 3/10 (–Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è)
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤: 5/10 (–±–∞–∑–æ–≤–∞—è)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 5/10 (–∫—Ä–∞—Ç–∫–∞—è)
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é: 7/10 (–ø—Ä–æ—Å—Ç–∞—è)

**–í–µ—Ä–¥–∏–∫—Ç:** –•–æ—Ä–æ—à–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è fast path, –Ω–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ —Å–∞–º–∞ –ø–æ —Å–µ–±–µ.

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –í–µ–∫—Ç–æ—Ä –¥–≤–∏–∂–µ–Ω–∏—è —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: 8/10**

- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 8/10 (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å)
- –¢–æ—á–Ω–æ—Å—Ç—å: 7/10 (—Ö–æ—Ä–æ—à–µ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è: 9/10 (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã)
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤: 7/10 (mutex, –Ω–æ –æ—á–µ—Ä–µ–¥—å –º–∞–ª–∞)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 10/10 (–ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–∞—è)
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é: 8/10 (—Ö–æ—Ä–æ—à–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞)

**–í–µ—Ä–¥–∏–∫—Ç:** –û—Ç–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å –ª—É—á—à–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π, –Ω–æ –µ—Å—Ç—å —á—Ç–æ —É–ª—É—á—à–∏—Ç—å.

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: Velocity-Based Predictive

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: 7.5/10**

- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 6/10 (–≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä)
- –¢–æ—á–Ω–æ—Å—Ç—å: 9/10 (–æ—Ç–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è: 10/10 (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏)
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤: 9/10 (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 8/10 (—Ö–æ—Ä–æ—à–∞—è, —Å —Ç–µ—Å—Ç–∞–º–∏)
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é: 6/10 (—Å–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞)

**–í–µ—Ä–¥–∏–∫—Ç:** –°–∞–º–∞—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:

- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è 0** - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ fast path
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è 1** - –±–∞–ª–∞–Ω—Å –∏ –æ—Ç–ª–∏—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è 2** - —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ

–°–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ–ª–∂–Ω–∞ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å:

1. Fast Path (–°—Ç—Ä.0) –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã (–°—Ç—Ä.1) –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏
3. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ (–°—Ç—Ä.2) –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
4. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (–°—Ç—Ä.2) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏
5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (–°—Ç—Ä.1) –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω—è—é—â–µ–µ –ª—É—á—à–∏–µ –∏–¥–µ–∏ –≤—Å–µ—Ö —Ç—Ä—ë—Ö –ø–æ–¥—Ö–æ–¥–æ–≤.
